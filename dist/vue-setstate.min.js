!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VueSetstate=e():t.VueSetstate=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=(o=n(1))&&o.__esModule?o:{default:o};function r(t){r.installed||Object.defineProperties(t.prototype,{$setState:{get:function(){if(!this._isVue)throw new Error("invalid vue component");var t=new i.default(this);return t.executeSetState.bind(t)}}})}"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t){this.component=t,this.previousState="",this.currentState="",this.onFinish="",this.newState=""}i.prototype.executeSetState=function(t,e){this.previousState=Object.assign({},this.component._data),this.currentState=null,this.onFinish=e,this.newState="object"===(void 0===t?"undefined":o(t))&&t instanceof Object?t:"function"==typeof t?t(this.previousState):null,this.setComponentState()},i.prototype.setComponentState=function(){if(null===this.newState)this.executeOnFinish();else{if(!this.newState)throw new Error("null has to be returned for preventing update");if(!("object"===o(this.newState)&&this.newState instanceof Object))throw new Error("state payload should be of type object");var t=Object.keys(this.newState);if(t&&t.length&&this.component.hasOwnProperty("_data")){var e=!0,n=!1,i=void 0;try{for(var r,u=t[Symbol.iterator]();!(e=(r=u.next()).done);e=!0){var s=r.value;this.component._data.hasOwnProperty(s)||delete this.newState[s]}}catch(t){n=!0,i=t}finally{try{!e&&u.return&&u.return()}finally{if(n)throw i}}Object.assign(this.component._data,this.newState),this.currentState=this.component._data,this.executeOnFinish()}}},i.prototype.executeOnFinish=function(){var t=this;this.onFinish&&"function"==typeof this.onFinish&&setTimeout(function(){t.newState?t.onFinish(t.previousState,t.currentState):t.onFinish(t.previousState)},0)},e.default=i}])});